# Neo4j 基础

****

## 简介

****

[Neo4j](https://neo4j.com/) 是用 `Java` 实现的开源 `NoSQL` 图数据库。从2003年开始开发，2007年正式发布第一版，其源码托管于 [GitHub](https://github.com/neo4j/neo4j)。

与常见的关系型数据库不同，`Neo4j` 基于图图结构来表示和存储数据，并提供了申明式的查询语言 `Cypher` 来处理图数据。`Neo4j` 实现了专业数据库级别的图数据模型的存储，提供了完整的数据库特性，包括 `ACID` 事务的支持、集群的支持、备份和故障转移等。

`Neo4j` 作为图数据库中的代表产品，已经在众多的行业项目中进行了应用，如：网络管理、软件分析、组织和项目管理、社交项目等方面。

****

## 安装

****

这里为了便于练习，我将其使用 `Docker` 部署到了我滴云服务器上，参考 [Docker部署](https://neo4j.com/docs/operations-manual/4.4/docker/)，其他部署方式[参考](https://neo4j.com/docs/operations-manual/4.4/)。

首先拉取镜像（可以指定版本）：

```shell
docker pull neo4j:4.4.5
```

然后编写一个简单的运行脚本 `run.sh`：

```sh
#!/bin/bash

docker run \
        -d \
        --restart=always \
        --name neo4j \
        -p 7474:7474 \
        -p 7687:7687 \
        -v $HOME/docker/neo4j/data:/data \
        neo4j:4.4.5
```

然后运行脚本部署即可，`web` 管理端口为 `7474`。

如果没有在启动容器时指定密码，登录的默认密码为 `neo4j`，首次登录后需要重设密码。

不出意外的，便能看到如下界面，建议想要快速入门的话直接跟着官方教程走一遍：

![image-20230924162531006](https://image.itbaima.net/images/40/image-2023092416710991.png)

****

## 数据结构

****

如果你尝试运行了 `Try Neo4j with live data` 教程中的第一段代码，你会看到如下界面：

![image-20230924163019460](https://image.itbaima.net/images/40/image-20230924163742275.png)

`Neo4j` 中采用节点、属性、关系、标签来存储数据，即右半部分出现的图谱。

- 节点： 
    - 节点是图数据模型的基本单元，用于存储实体数据。
    - 例如，在上图中，演员、电影都是节点，其中每个节点都有对应的属性。
    - 可以将一个节点理解为关系型数据库表中的一条数据，其字段对应节点的属性。
- 关系： 
    - 关系用于表示节点之间的连接或关联，具有一个类型（Type），用于描述节点之间的关系。
    - 关系有且只有一个类型，且必须声明其开始节点和结束节点以及指向。
    - 关系可以自我循环引用，但是两头永远不能为空。
- 属性：
    - 节点和关系都可以有属性，它是由键值对组成的。
    - 属性可以是基本数据类型（例如字符串、整数、浮点数等）或复杂数据类型（例如数组、日期等）。
    - 节点的属性可以理解为关系型数据库中的字段。关系中的属性进一步的明确了关系。
- 标签：
    - 标签是对节点的分类，这样使得构建 `Neo4j` 数据模型更加简单。
    - 在上面的电影案例中，`Movie`、`Person` 就是标签。

****